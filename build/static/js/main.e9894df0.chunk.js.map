{"version":3,"sources":["components/Person.js","services/persons.js","App.js","index.js"],"names":["Person","person","delPerson","name","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","nameFilter","setNameFilter","useEffect","personService","returnedPerson","value","onChange","event","target","onSubmit","preventDefault","newPerson","dublicateId","filteredList","filter","p","length","checkDuplicates","concat","window","confirm","map","type","toLowerCase","includes","key","catch","error","console","log","ReactDOM","render","document","getElementById"],"mappings":"sLAYeA,EAVA,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UAExB,OACE,4BACGD,EAAOE,KADV,IACiBF,EAAOG,OACtB,4BAAQC,QAASH,GAAjB,c,gBCNAI,EAAU,eAsBC,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAACG,EAAIF,GAElB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALH,SAAAG,GAEV,OADgBP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,IAC5BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCyF9BM,EAzGH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEcF,mBAAS,IAFvB,mBAETG,EAFS,KAEAC,EAFA,OAGkBJ,mBAAS,IAH3B,mBAGTK,EAHS,KAGEC,EAHF,OAIoBN,mBAAS,IAJ7B,mBAITO,EAJS,KAIGC,EAJH,KA0EhB,OAFAC,qBAPa,WACXC,IACGnB,MAAK,SAAAoB,GACJT,EAAWS,QAID,IAGd,6BACE,yCACA,8BACE,kDACoB,2BAAOC,MAAOL,EAAYM,SAjC3B,SAACC,GACxBN,EAAcM,EAAMC,OAAOH,YAmCzB,uCACA,0BAAMI,SArEM,SAACF,GACfA,EAAMG,iBACN,IAAMC,EAAY,CAChBjC,KAAMkB,EACNjB,OAAQmB,GAEJc,EAdgB,SAAChB,GACvB,IAAMiB,EAAenB,EAAQoB,QAAO,SAAAC,GAAC,OAAIA,EAAErC,OAASkB,KACpD,OAAIiB,EAAaG,OAAS,EACjBH,EAAa,GAAGxB,IAEjB,EASY4B,CAAgBrB,IACf,IAAjBgB,EACFT,EAAqBQ,GAClB3B,MAAK,SAAAoB,GACJT,EAAWD,EAAQwB,OAAOd,OAG1Be,OAAOC,QAAP,UAAkBxB,EAAlB,uEACFO,EAAqBS,EAAYD,GAC9B3B,MAAK,SAAAC,GACJU,EAAWD,EAAQ2B,KAAI,SAAAN,GAAC,OAAIA,EAAE1B,KAAOuB,EAAcG,EAAI9B,SAI/DY,EAAW,IACXE,EAAa,MAiDT,sCACQ,2BAAOM,MAAOT,EAASU,SA/Cf,SAACC,GACrBV,EAAWU,EAAMC,OAAOH,WAgDpB,wCACU,2BAAOA,MAAOP,EAAWQ,SA9CjB,SAACC,GACvBR,EAAaQ,EAAMC,OAAOH,WA+CtB,6BACE,4BAAQiB,KAAK,UAAb,SAGJ,uCACA,4BACG5B,EAAQoB,QAAO,SAAAC,GAAC,OAAIA,EAAErC,KAAK6C,cAAcC,SAASxB,MAChDqB,KAAI,SAAAN,GAAC,OACJ,kBAAC,EAAD,CAAQU,IAAKV,EAAErC,KAAMF,OAAQuC,EAAGtC,UAAW,kBAhDnCY,EAgDmD0B,EAAE1B,QA9CjE8B,OAAOC,QAAP,kCACFjB,EAAkBd,GACfL,MAAK,WACJW,EAAWD,EAAQoB,QAAO,SAAAC,GAAC,OAAIA,EAAE1B,KAAOA,SAEzCqC,OAAM,SAAAC,GACLC,QAAQC,IAAR,iDAC4CF,QATlC,IAAAtC,WClDpByC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.e9894df0.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, delPerson }) => {\n\n  return (\n    <li>\n      {person.name} {person.number}\n      <button onClick={delPerson}> delete </button>\n    </li>\n  )\n}\n\nexport default Person","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\n  const getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n  \n  const create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n  }\n  \n  const update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n\n  const del = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n  }\n  \n  export default { \n    getAll: getAll, \n    create: create, \n    update: update,\n    del:    del\n  }","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [nameFilter, setNameFilter] = useState('')\n\n  const checkDuplicates = (newName) => {\n    const filteredList = persons.filter(p => p.name === newName)\n    if (filteredList.length > 0) {\n      return filteredList[0].id\n    }\n    return -1\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    const dublicateId = checkDuplicates(newName)\n    if (dublicateId === -1) {\n      personService.create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n        })\n    } else {\n      if (window.confirm(`${newName} is already added to phonebook. Do you want to update the number?`)){\n        personService.update(dublicateId,newPerson)\n          .then(response => {\n            setPersons(persons.map(p => p.id !== dublicateId ? p : response))\n          })\n      }\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleNameFilter = (event) => {\n    setNameFilter(event.target.value)\n  }\n\n  const delPerson = id => {\n\n    if (window.confirm(`Do you really want to delete?`)) {\n      personService.del(id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== id))\n        })\n        .catch(error => {\n          console.log(\n            `Failed to remove item from the server. ${error}`\n          );\n        })\n    }\n  }\n\n  const hook = () => {\n    personService.getAll()\n      .then(returnedPerson => {\n        setPersons(returnedPerson)\n      })\n  }\n\n  useEffect(hook, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <form>\n        <div>\n          filter shown with <input value={nameFilter} onChange={handleNameFilter} />\n        </div>\n      </form>\n      <h2>Add New</h2>\n      <form onSubmit={addName}>\n        <div>\n          name: <input value={newName} onChange={handleNewName} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNewNumber} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <ul>\n        {persons.filter(p => p.name.toLowerCase().includes(nameFilter))\n          .map(p =>\n            <Person key={p.name} person={p} delPerson={() => delPerson(p.id)} />\n          )}\n      </ul>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}